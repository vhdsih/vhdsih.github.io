<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="终端打印 echo 1234567891011121314# 使用没有引号的echo，不能输出&amp;#x27;;&amp;#x27;&gt; echo Hello World！# 变量替换在&amp;#x27;&amp;#x27;中无效# &quot;&quot;中不能直接打印！，需要转义，&amp;#x27;&amp;#x27;中忽略不会识别转义字符[Y]: echo &quot;Hello, World\!&quot;[N]: echo">
<meta property="og:type" content="article">
<meta property="og:title" content="LinuxShell1 - 基础内容">
<meta property="og:url" content="https://vhdsih.github.io/2018/04/16/LinuxShell1/index.html">
<meta property="og:site_name" content="vhdsih">
<meta property="og:description" content="终端打印 echo 1234567891011121314# 使用没有引号的echo，不能输出&amp;#x27;;&amp;#x27;&gt; echo Hello World！# 变量替换在&amp;#x27;&amp;#x27;中无效# &quot;&quot;中不能直接打印！，需要转义，&amp;#x27;&amp;#x27;中忽略不会识别转义字符[Y]: echo &quot;Hello, World\!&quot;[N]: echo">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2018-04-16T13:55:18.000Z">
<meta property="article:modified_time" content="2021-12-10T07:41:11.457Z">
<meta property="article:author" content="vhdsih">
<meta property="article:tag" content="Linux Shell">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>LinuxShell1 - 基础内容</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="vhdsih" type="application/atom+xml">
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Articles</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/atom.xml">Rss</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2018/04/17/LinuxShell2/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2018/04/12/shit1/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://vhdsih.github.io/2018/04/16/LinuxShell1/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&text=LinuxShell1 - 基础内容"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&title=LinuxShell1 - 基础内容"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&is_video=false&description=LinuxShell1 - 基础内容"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=LinuxShell1 - 基础内容&body=Check out this article: https://vhdsih.github.io/2018/04/16/LinuxShell1/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&title=LinuxShell1 - 基础内容"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&title=LinuxShell1 - 基础内容"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&title=LinuxShell1 - 基础内容"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&title=LinuxShell1 - 基础内容"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&name=LinuxShell1 - 基础内容&description=&lt;h2 id=&#34;终端打印&#34;&gt;&lt;a href=&#34;#终端打印&#34; class=&#34;headerlink&#34; title=&#34;终端打印&#34;&gt;&lt;/a&gt;终端打印&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;echo&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; 使用没有引号的&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt;，不能输出&lt;span class=&#34;string&#34;&gt;&amp;#x27;;&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; Hello World！&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; 变量替换在&lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;中无效&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;中不能直接打印！，需要转义，&lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;中忽略不会识别转义字符&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[Y]: echo &amp;quot;Hello, World\!&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[N]: echo &amp;quot;Hello, World!&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[Y]: echo &amp;#x27;Hello, World!&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt;在&lt;span class=&#34;string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;中引用变量&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; var1=1; var2=2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;hello &lt;span class=&#34;subst&#34;&gt;$(var1)&lt;/span&gt;, &lt;span class=&#34;variable&#34;&gt;$var2&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;hello 1, 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;中变量不会被扩展&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;$var1&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;var1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://vhdsih.github.io/2018/04/16/LinuxShell1/&t=LinuxShell1 - 基础内容"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%88%E7%AB%AF%E6%89%93%E5%8D%B0"><span class="toc-number">1.</span> <span class="toc-text">终端打印</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">2.</span> <span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%95%B0%E8%AE%A1%E7%AE%97"><span class="toc-number">3.</span> <span class="toc-text">算数计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">4.</span> <span class="toc-text">文件描述符和重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E4%B8%8E%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84"><span class="toc-number">5.</span> <span class="toc-text">数组与关联数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%BB%88%E7%AB%AF%E4%BF%A1%E6%81%AF"><span class="toc-number">6.</span> <span class="toc-text">获取终端信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E6%9C%9F"><span class="toc-number">7.</span> <span class="toc-text">时间和日期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E8%B0%83%E8%AF%95"><span class="toc-number">8.</span> <span class="toc-text">脚本调试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">9.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E4%B8%8E%E5%88%A4%E6%96%AD"><span class="toc-number">10.</span> <span class="toc-text">比较与判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">11.</span> <span class="toc-text">循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%91%E8%84%9A%E6%9C%AC%E4%BC%A0%E9%80%92%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0"><span class="toc-number">12.</span> <span class="toc-text">向脚本传递命令行参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="toc-number">13.</span> <span class="toc-text">小技巧</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        LinuxShell1 - 基础内容
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">vhdsih</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2018-04-16T13:55:18.000Z" itemprop="datePublished">2018-04-16</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/System/">System</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/Linux-Shell/" rel="tag">Linux Shell</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="终端打印"><a href="#终端打印" class="headerlink" title="终端打印"></a>终端打印</h2><ol>
<li><p>echo</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 使用没有引号的<span class="built_in">echo</span>，不能输出<span class="string">&#x27;;&#x27;</span></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> Hello World！</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 变量替换在<span class="string">&#x27;&#x27;</span>中无效</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">&quot;&quot;</span>中不能直接打印！，需要转义，<span class="string">&#x27;&#x27;</span>中忽略不会识别转义字符</span></span><br><span class="line">[Y]: echo &quot;Hello, World\!&quot;</span><br><span class="line">[N]: echo &quot;Hello, World!&quot;</span><br><span class="line">[Y]: echo &#x27;Hello, World!&#x27;</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">echo</span>在<span class="string">&quot;&quot;</span>中引用变量</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> var1=1; var2=2</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;hello <span class="subst">$(var1)</span>, <span class="variable">$var2</span>&quot;</span></span></span><br><span class="line">hello 1, 2</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="string">&#x27;&#x27;</span>中变量不会被扩展</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&#x27;$var1&#x27;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">var1</span></span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>使用选项-e使用转义字符</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">颜色输出：</span><br><span class="line">echo -e &quot;\e[1;32m hello, world\!\e[0m&quot;</span><br></pre></td></tr></table></figure>

<p>字体颜色码：</p>
<p>重置=0,黑色=30,红色=31,绿色=32,黄色=33,蓝色=34,洋红=35,青色=36,白色=37。</p>
<p>背景颜色码：</p>
<p>重置=0,黑色=40,红色=41,绿色=42,黄色=43,蓝色=44,洋红=45,青色=46,白色=47。</p>
</li>
<li><p>printf</p>
<p>类似于C语言的格式化输出</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">printf</span> <span class="string">&quot;hello %s&quot;</span> world!</span></span><br><span class="line">hello world!</span><br><span class="line"><span class="meta">#</span><span class="bash"> 引用变量</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">printf</span> <span class="string">&quot;<span class="variable">$var1</span>, <span class="subst">$(var2)</span>&quot;</span></span></span><br></pre></td></tr></table></figure></li>
</ol>
<p>需要注意，echo和prinf使用选项时需要出现在所有的字符串之前。</p>
<h2 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h2><p>使用pgrep查看进程的pid，然后可以据此查看该应用依赖的环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> pgrep vim</span></span><br><span class="line">15371</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> cat /proc/15371/environ</span></span><br><span class="line">....</span><br></pre></td></tr></table></figure>

<p>变量赋值</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 可以直接赋值，需要注意<span class="string">&#x27;=&#x27;</span>两边没有空格</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> var=value</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$var</span></span></span><br><span class="line">value</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> $(var)</span></span><br><span class="line">value</span><br></pre></td></tr></table></figure>

<p>使用export设置环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HTTP_PROXY=192.168.1.23:3128</span><br><span class="line">export HTTP_PROXY</span><br></pre></td></tr></table></figure>

<p>默认情况下，Linux中包含很多环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$PATH</span>， <span class="variable">$HOME</span>, <span class="variable">$PWD</span></span></span><br><span class="line">....</span><br><span class="line"><span class="meta">#</span><span class="bash"> 在环境变量中添加一条新的变量，注意使用<span class="string">&#x27;:&#x27;</span>分割</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$PATH</span>:/home/user/bin&quot;</span></span></span><br></pre></td></tr></table></figure>

<p>其他技巧</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 变量长度</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> length=<span class="variable">$&#123;#var&#125;</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 当前使用的shell</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$0</span>, <span class="variable">$SHELL</span></span></span><br><span class="line">zsh, /bin/zsh</span><br><span class="line"><span class="meta">#</span><span class="bash"> 当前用户是否为超级用户, root用户的uid为0</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$UID</span></span></span><br><span class="line">0</span><br></pre></td></tr></table></figure>



<h2 id="算数计算"><a href="#算数计算" class="headerlink" title="算数计算"></a>算数计算</h2><p>在bash shell中可以使用let，(( ))，[ ] 来执行基本的算数运算，而高级操作也可以使用expr和bc。</p>
<ol>
<li><p>整数运算</p>
<p>当使用普通的赋值方法定义数值时，它会存储为字符串，我们可以使用let直接执行基本的算数运算</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> a=1</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> b=2</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用<span class="built_in">let</span>，变量名前无需添加$</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">let</span> result=a+b</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$result</span></span></span><br><span class="line">3</span><br><span class="line"><span class="meta">#</span><span class="bash"> 自加、减</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">let</span> a++</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">let</span> b--</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 简写</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">let</span> a+=5</span></span><br></pre></td></tr></table></figure>

<p>[ ]和let的作用类似</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> result=$[ a + b ]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 当然，[ ]中也可以是使用$</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> result=$[ <span class="variable">$a</span> + b ]</span></span><br></pre></td></tr></table></figure>

<p>也可以使用(( ))，但是必须加上$</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> result=$(( a + <span class="number">50</span>))</span></span><br></pre></td></tr></table></figure>

<p>expr也可以运用在基本运算上</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> r1=`expr 3 + 4`</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> r2=$(expr <span class="variable">$a</span> + 5)</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="2">
<li><p>浮点数运算以及其他</p>
<p>bc是一个数学运算的高级工具，使用它可以进行浮点运算。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;4 * 0.56&quot;</span> | bc</span></span><br><span class="line">2.24</span><br></pre></td></tr></table></figure>

<p>设置精度</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;scale=2;1/3&quot;</span> | bc</span></span><br><span class="line">0.33</span><br></pre></td></tr></table></figure>

<p>进制转换</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 输入10进制，输出2进制</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;obase=2;ibase=10;100&quot;</span> | bc</span></span><br><span class="line">1100100</span><br></pre></td></tr></table></figure>

<p>平方和平方根</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;sqrt(100)&quot;</span> | bc</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;10^10&quot;</span> | bc</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="文件描述符和重定向"><a href="#文件描述符和重定向" class="headerlink" title="文件描述符和重定向"></a>文件描述符和重定向</h2><p>文件描述符是和文件输入和输出相关联的整数，用来追踪已打开的文件。</p>
<ul>
<li>0: stdin</li>
<li>1: stdout</li>
<li>2: stderr</li>
</ul>
<ol>
<li><p>使用’&gt;’对输入和输出进行重定向操作。</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&quot;hello world!&quot;</span> &gt; a.txt</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> cat a.txt</span></span><br><span class="line">hello world!</span><br></pre></td></tr></table></figure></li>
<li><p>使用’&gt;&gt;’将内容追加到文本。</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&#x27;fuck x&#x27;</span> &gt;&gt; a.txt</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> cat a.txt</span></span><br><span class="line">hello world!</span><br><span class="line">fuck x</span><br></pre></td></tr></table></figure>

<blockquote>
<p>命令成功执行后，会返回0；执行失败则会返回非0的错误码。使用 ‘echo $?’可以查看上一个命令执行情况。</p>
</blockquote>
</li>
<li><p>当执行一个命令时，使用重定向仅仅是针对stdout，因此，当命令执行失败，其错误信息仍然会显示在终端。如果希望将stderr重定向：</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> ls no-such-file-in-this-dir &gt;out.txt</span></span><br><span class="line">No such file balabala...</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ls no-such-file-in-this-dir 2&gt;out.txt</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> cat out.txt</span></span><br><span class="line">No such file balabala...</span><br></pre></td></tr></table></figure>

<p> 可以同时将stdin和stderr绑定</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> cmd 2&gt;stderr.txt 1&gt;stdout.txt</span></span><br></pre></td></tr></table></figure>

<p> 也可以将stderr绑定到stdout</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> cmd 2&gt;&amp;1 output.txt</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 或者</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> cmd &amp;&gt; output.txxt</span></span><br></pre></td></tr></table></figure>

<p> 如果不希望看到stderr，可以将其绑定到/dev/null</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> cmd 2&gt;/dev/null</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> null 设备通常被称作黑洞</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>需要注意的是，如果已经将stdout或者stderr进行重定向，那么就导致没有什么内容可以通过管道输出了</p>
</blockquote>
</li>
<li><p>数据重定向到文件同时提供副本作为后续命令的输入</p>
<p> 使用tee命令实现</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">command | tee file1 file2</span><br><span class="line"><span class="meta">#</span><span class="bash"> 例如：</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> cat a.txt | tee out.txt | cat -n</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> stderr 中的内容不会输出到out.txt中</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>tee命令在默认情况下，会将已存在的文件覆盖，使用参数 -a 可以进行追加</p>
</blockquote>
</li>
<li><p>使用stdin作为命令参数</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cmd1 | cmd2 | cmd -</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> who is this | tee -</span></span><br></pre></td></tr></table></figure></li>
<li><p>stdin重定向</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmd &lt; file</span><br></pre></td></tr></table></figure></li>
<li><p>脚本内部的文本块重定向</p>
<p> 在cat &lt;&lt; EOF &gt; log.txt到EOF之间的内容都会作为stdin。 </p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">cat&lt;&lt;EOF&gt;log.txt</span><br><span class="line">LOG FILE HEADER</span><br><span class="line">This is a test log file</span><br><span class="line">Function: System statistics</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure></li>
<li><p>自定义文件描述符</p>
<p> 使用exec命令创建自己的文件描述符。</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 创建一个文件描述符用于写入（截断）</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">exec</span> 4 &gt; out.txt</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> new-things &gt;&amp;4</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> cat out.txt</span></span><br><span class="line">new_things</span><br><span class="line"><span class="meta">#</span><span class="bash"> 追加模式</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">exec</span> 5 &gt;&gt; out.txt</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> haha &gt;&amp;5</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> cat out.txt</span></span><br><span class="line">new_things</span><br><span class="line">haha</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="数组与关联数组"><a href="#数组与关联数组" class="headerlink" title="数组与关联数组"></a>数组与关联数组</h2><ol>
<li><p>定义数组</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1</span></span><br><span class="line">array_var=(1 2 3 4 5)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 2</span></span><br><span class="line">array_var[0]=&quot;a&quot;</span><br><span class="line">array_var[1]=&quot;b&quot;</span><br><span class="line">...</span><br></pre></td></tr></table></figure></li>
<li><p>数组访问</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 所有的内容</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;array_var[*]&#125;</span></span></span><br><span class="line">a b 3 4 5</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;array_var[@]&#125;</span></span></span><br><span class="line">a b 3 4 5</span><br><span class="line"><span class="meta">#</span><span class="bash"> 指定索引</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;array[1]&#125;</span></span></span><br><span class="line">b</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> index=2</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span><span class="variable">$&#123;array[$index]&#125;</span></span></span><br><span class="line">2</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="3">
<li><p>数组长度</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;#array_var[*]&#125;</span></span></span><br><span class="line">5</span><br></pre></td></tr></table></figure></li>
<li><p>关联数组（bash 4.0+）</p>
<p>实现原理为散列技术。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 首先声明</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">declare</span> -A ass_array</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加元素1</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ass_array=([index1]=val1 [index2]=val2)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加元素2</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ass_array[index1]=val1</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> ass_array[index2]=val2</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> indexn可以为apple也可以为123</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;ass_array[index1]&#125;</span></span></span><br><span class="line">val1</span><br></pre></td></tr></table></figure></li>
<li><p>列出数组的索引</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;!array_var[*]&#125;</span></span></span><br></pre></td></tr></table></figure></li>
<li><p>使用alias定义别名</p>
<blockquote>
<p>注意alias可能会导致安全问题，可以利用转义字符忽略可能存在的别名</p>
</blockquote>
</li>
</ol>
<h2 id="获取终端信息"><a href="#获取终端信息" class="headerlink" title="获取终端信息"></a>获取终端信息</h2><p>当前终端的相关信息，包括行数，列数、光标位置、密码等信息。有tput和stty两种终端处理工具。</p>
<ol>
<li><p>终端行数和列数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tput cols</span><br><span class="line">tput lines</span><br></pre></td></tr></table></figure></li>
<li><p>终端名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tput longname</span><br></pre></td></tr></table></figure></li>
<li><p>光标移动到目的位置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tput cup x y</span><br></pre></td></tr></table></figure></li>
<li><p>设置终端背景颜色</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tputsetb n</span><br><span class="line"><span class="meta">#</span><span class="bash"> 0 &lt;= n &lt;= 7</span></span><br></pre></td></tr></table></figure></li>
<li><p>设置文本粗体</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tput bold</span><br></pre></td></tr></table></figure></li>
<li><p>密码</p>
<p>设置-echo禁止将输出发送到终端，echo允许；</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/sh</span></span><br><span class="line"><span class="meta">#</span><span class="bash">Filename: password.sh</span></span><br><span class="line">echo -e &quot;Enter password: &quot;</span><br><span class="line">stty -echo</span><br><span class="line">read password</span><br><span class="line">stty echo</span><br><span class="line">echo</span><br><span class="line">echo Password read.</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="时间和日期"><a href="#时间和日期" class="headerlink" title="时间和日期"></a>时间和日期</h2><ol>
<li><p>获取日期</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> date</span></span><br><span class="line">Tue Apr 17 08:48:40 CST 2018</span><br></pre></td></tr></table></figure></li>
<li><p>纪元时</p>
<p>UTC，又称为世界标准时间或者世界协调时间。unix人文UTC1970年1月1日0点是纪元时间，也被成为posix时间</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 获取纪元时</span><br><span class="line">&gt; date +%s</span><br><span class="line"># 将日期字符串转换为纪元时</span><br><span class="line">&gt; date --date &quot;Thu Nov 18 08:07:21 IST 2010&quot; +%s</span><br><span class="line">1290047841</span><br></pre></td></tr></table></figure></li>
<li><p>格式输出</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 结合 <span class="string">&#x27;+&#x27;</span></span> </span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> date <span class="string">&quot;+%d %B %Y&quot;</span></span></span><br><span class="line">20 May 2010</span><br><span class="line"><span class="meta">#</span><span class="bash"> 星期 %a (Sat) %A (Saturday)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 月 %b (Nov) %B (November)</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 日 %d</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> mm/dd/yy  %D</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 小时 、、、、、、、、、、%I  %H</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 分钟 %M</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 秒 %S</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 纳秒 %N</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Unix纪元时  %s</span></span><br></pre></td></tr></table></figure></li>
<li><p>设置时间</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> date -s <span class="string">&quot;格式化的时间日期&quot;</span></span></span><br></pre></td></tr></table></figure></li>
<li><p>时间间隔</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">start=$(date +%s)</span><br><span class="line">...</span><br><span class="line">end=$(date +%s)</span><br><span class="line">difference=$(( end - start ))</span><br></pre></td></tr></table></figure></li>
<li><p>延时</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sleep n</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="脚本调试"><a href="#脚本调试" class="headerlink" title="脚本调试"></a>脚本调试</h2><ol>
<li><p>使用-x对脚本跟踪调试，此时会打印出每一条指令以及其输出结果</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> bash -x x.sh</span></span><br></pre></td></tr></table></figure></li>
<li><p>利用set -x 和 set +x 局部调试</p>
<ul>
<li>set -x：执行时显示参数和命令</li>
<li>set +x：禁止调试</li>
<li>set -v：命令进行读取时显示输入</li>
<li>set +v：禁止打印输入</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">test</span> debug</span></span><br><span class="line">for i in &#123;1..6&#125;</span><br><span class="line">do</span><br><span class="line">	set -x</span><br><span class="line">	echo $i</span><br><span class="line">	set +x</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
<li><p>通过传递环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">function DEBUG()</span><br><span class="line">&#123;</span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="variable">$1</span> <span class="variable">$2</span>... 访问第n个参数</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="variable">$@</span> 一次性访问所有参数 = <span class="string">&quot;<span class="variable">$1</span>&quot;</span> <span class="string">&quot;<span class="variable">$2</span>&quot;</span> ...</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> $* 类似<span class="variable">$@</span> 但是参数被当做单独的个体 = <span class="string">&quot;$1<span class="variable">$2</span>...&quot;</span></span></span><br><span class="line">[ &quot;$_DEBUG&quot; == &quot;on&quot; ] &amp;&amp; $@ || :</span><br><span class="line">&#125;</span><br><span class="line">for i in &#123;1..10&#125;</span><br><span class="line">do</span><br><span class="line">DEBUG echo $i</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>设置_DEBUG来运行脚本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> _DEBUG=on ./x.sh</span></span><br></pre></td></tr></table></figure></li>
<li><p>使用shebang</p>
<p>将#!/bin/bash替换为#!/bin/bash -xv</p>
</li>
</ol>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><ol>
<li><p>定义函数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 方式1</span></span><br><span class="line">function fname()</span><br><span class="line">&#123;</span><br><span class="line">    statements;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 方式2</span></span><br><span class="line">fname()</span><br><span class="line">&#123;</span><br><span class="line">    statements;</span><br><span class="line">    # 可以包含返回值</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>函数调用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 直接使用函数名</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> fname; <span class="comment"># 执行fname</span></span></span><br></pre></td></tr></table></figure></li>
<li><p>参数传递</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 参数以空格分割，跟在函数名后面</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> fname arg1 arg2 ...</span></span><br></pre></td></tr></table></figure></li>
<li><p>参数获取</p>
<ul>
<li>$n：访问第n个参数</li>
<li>$@：以列表的方式一次性打印所有的参数</li>
<li>$*：访问所有的参数，被当做一个整体</li>
</ul>
</li>
<li><p>递归函数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">F() &#123; echo $1; F hello; sleep 1; &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>fork炸弹：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:() &#123; :|:&amp; &#125;; :</span><br></pre></td></tr></table></figure>

<p>该函数不断递归自身，不断生成新的进程，最终造成拒绝服务攻击。</p>
</blockquote>
</li>
<li><p>导出函数</p>
<p>函数像环境变量一样用export导出，扩大作用域到子进程中</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export -f filename</span><br></pre></td></tr></table></figure></li>
<li><p>获取函数返回值</p>
<p>$?返回上一条命令的返回值</p>
</li>
</ol>
<h2 id="比较与判断"><a href="#比较与判断" class="headerlink" title="比较与判断"></a>比较与判断</h2><p>基本格式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if condition;</span><br><span class="line">then</span><br><span class="line">	commands</span><br><span class="line">else if condition;</span><br><span class="line">then</span><br><span class="line">	commands</span><br><span class="line">else</span><br><span class="line">	commands</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<ol>
<li><p>判断简化</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[ condition ] &amp;&amp; action; # condition为真，执行action</span><br><span class="line">[ condition ] || action; # condition为假，执行action</span><br></pre></td></tr></table></figure></li>
<li><p>算数比较</p>
<p>条件放在中括号中，注意空格</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ $var -eq 0 ] # 两边一定有空格， 当var=0， return 1； else return 0</span><br></pre></td></tr></table></figure>

<ul>
<li>大于：-gt</li>
<li>小于：-lt</li>
<li>大于等于：-ge</li>
<li>小于等于：-le</li>
<li>逻辑与：-a</li>
<li>逻辑或：-o</li>
</ul>
</li>
<li><p>文件系统测试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[ -f $file ]: file 是文件</span><br><span class="line">[ -x $file ]: file 可执行</span><br><span class="line">[ -d $file ]: file 是目录</span><br><span class="line">[ -e $var ]: var 包含文件</span><br><span class="line">[ -c $var ]: 是一个字符设备文件</span><br><span class="line">[ -b $var ]: 是一个块设备</span><br><span class="line">[ -w $var ]: 可以写</span><br><span class="line">[ -r $var ]: 可以读</span><br><span class="line">[ -L $var ]: 是一个符号链接</span><br></pre></td></tr></table></figure></li>
<li><p>字符串比较</p>
<p>字符串比较最好使用 [[ ]]</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[ $str1 op $str2 ]] # op : ==; !=; &gt;; &lt;</span><br><span class="line">[[ -z $str ]] # str 空吗？</span><br><span class="line">[[ -n $str ]] # str 非空吗？</span><br></pre></td></tr></table></figure></li>
<li><p>逻辑运算</p>
<p>使用 &amp;&amp; 或 || 可以组合条件；</p>
<p>test命令可以避免括号</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if test $var -eq 0; then echo yes; fi;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 等价于</span></span><br><span class="line">if [ $var -eq 0 ]; then echo yes; fi;</span><br></pre></td></tr></table></figure>

<p>​</p>
</li>
</ol>
<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><ol>
<li><p>while</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while 条件</span><br><span class="line">do</span><br><span class="line">	statements</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
<li><p>for</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> type1</span></span><br><span class="line">for var in list # list是字符串或者序列</span><br><span class="line">do</span><br><span class="line">	commands</span><br><span class="line">done</span><br><span class="line"><span class="meta">#</span><span class="bash"> type2</span></span><br><span class="line">for ((i=0; i&lt;10;++i)) &#123; echo $i; &#125;</span><br></pre></td></tr></table></figure>

<p>生成序列的方法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">1</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> <span class="variable">$&#123;1..50&#125;</span></span> </span><br><span class="line"> 1 2 3 4 .. 50</span><br><span class="line"><span class="meta">#</span><span class="bash">2</span> </span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> &#123;a..z&#125;</span></span><br><span class="line"> a b c .. z</span><br></pre></td></tr></table></figure></li>
<li><p>until</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=0</span><br><span class="line">until [$x -eq 9 ];</span><br><span class="line">do</span><br><span class="line">	let x++; echo $x</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<p>​</p>
<h2 id="向脚本传递命令行参数"><a href="#向脚本传递命令行参数" class="headerlink" title="向脚本传递命令行参数"></a>向脚本传递命令行参数</h2><p>我们希望向下面这个脚本中传递参数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> script name is a.sh</span></span><br><span class="line"></span><br><span class="line">for x in $*</span><br><span class="line">do</span><br><span class="line">    echo $x</span><br><span class="line">done</span><br></pre></td></tr></table></figure>
<p>参数传递方法如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> ./a.sh a b c d e</span></span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">d</span><br><span class="line">e</span><br></pre></td></tr></table></figure>
<h2 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h2></li>
<li><p>利用()定义一个子shell</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">pwd</span></span></span><br><span class="line">dir1</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> (<span class="built_in">cd</span> /bin; ls)</span></span><br><span class="line">somethings in /bin</span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">pwd</span></span></span><br><span class="line">dir1</span><br></pre></td></tr></table></figure></li>
<li><p>read命令</p>
<p> read可以实现不按回车读取数据</p>
<p> read  参数 var</p>
<ul>
<li>-n : 读取n个字符存入var</li>
<li>-s： 无回显方式读取密码</li>
<li>-p：显示提示信息</li>
<li>-t：特定时间内读取</li>
<li>-d：特殊符号作为输入结束</li>
</ul>
</li>
<li><p>执行直至成功</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">repeat() &#123; while true; do $@ &amp;&amp; return; done &#125;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 更快</span></span><br><span class="line">repeat() &#123; while :; do $@ &amp;&amp; return; done &#125;</span><br></pre></td></tr></table></figure></li>
<li><p>字段分隔符</p>
<p> 内部字段分隔符IFS</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">a=&quot;1:2:3&quot;</span><br><span class="line">oldIFS=$IFS</span><br><span class="line">IFS=&quot;:&quot;</span><br><span class="line">for i in $a</span><br><span class="line">do echo $i</span><br><span class="line">done</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 输出</span></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure></li>
<li><p>字符替换：<br> tr oldChar newChar</p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> <span class="built_in">echo</span> ababab | tr <span class="string">&#x27;a&#x27;</span> <span class="string">&#x27;b&#x27;</span></span></span><br><span class="line">bbbbbb</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>参考：Linux Shell脚本攻略　第一章</p>
</blockquote>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Articles</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/categories/">Category</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/atom.xml">Rss</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%88%E7%AB%AF%E6%89%93%E5%8D%B0"><span class="toc-number">1.</span> <span class="toc-text">终端打印</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">2.</span> <span class="toc-text">环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%97%E6%95%B0%E8%AE%A1%E7%AE%97"><span class="toc-number">3.</span> <span class="toc-text">算数计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%8F%8F%E8%BF%B0%E7%AC%A6%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">4.</span> <span class="toc-text">文件描述符和重定向</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E4%B8%8E%E5%85%B3%E8%81%94%E6%95%B0%E7%BB%84"><span class="toc-number">5.</span> <span class="toc-text">数组与关联数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%BB%88%E7%AB%AF%E4%BF%A1%E6%81%AF"><span class="toc-number">6.</span> <span class="toc-text">获取终端信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%92%8C%E6%97%A5%E6%9C%9F"><span class="toc-number">7.</span> <span class="toc-text">时间和日期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E8%B0%83%E8%AF%95"><span class="toc-number">8.</span> <span class="toc-text">脚本调试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">9.</span> <span class="toc-text">函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E4%B8%8E%E5%88%A4%E6%96%AD"><span class="toc-number">10.</span> <span class="toc-text">比较与判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">11.</span> <span class="toc-text">循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%91%E8%84%9A%E6%9C%AC%E4%BC%A0%E9%80%92%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%8F%82%E6%95%B0"><span class="toc-number">12.</span> <span class="toc-text">向脚本传递命令行参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E6%8A%80%E5%B7%A7"><span class="toc-number">13.</span> <span class="toc-text">小技巧</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://vhdsih.github.io/2018/04/16/LinuxShell1/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&text=LinuxShell1 - 基础内容"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&title=LinuxShell1 - 基础内容"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&is_video=false&description=LinuxShell1 - 基础内容"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=LinuxShell1 - 基础内容&body=Check out this article: https://vhdsih.github.io/2018/04/16/LinuxShell1/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&title=LinuxShell1 - 基础内容"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&title=LinuxShell1 - 基础内容"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&title=LinuxShell1 - 基础内容"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&title=LinuxShell1 - 基础内容"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://vhdsih.github.io/2018/04/16/LinuxShell1/&name=LinuxShell1 - 基础内容&description=&lt;h2 id=&#34;终端打印&#34;&gt;&lt;a href=&#34;#终端打印&#34; class=&#34;headerlink&#34; title=&#34;终端打印&#34;&gt;&lt;/a&gt;终端打印&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;echo&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; 使用没有引号的&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt;，不能输出&lt;span class=&#34;string&#34;&gt;&amp;#x27;;&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; Hello World！&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; 变量替换在&lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;中无效&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;中不能直接打印！，需要转义，&lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;中忽略不会识别转义字符&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[Y]: echo &amp;quot;Hello, World\!&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[N]: echo &amp;quot;Hello, World!&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[Y]: echo &amp;#x27;Hello, World!&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt;在&lt;span class=&#34;string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;中引用变量&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; var1=1; var2=2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;hello &lt;span class=&#34;subst&#34;&gt;$(var1)&lt;/span&gt;, &lt;span class=&#34;variable&#34;&gt;$var2&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;hello 1, 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;中变量不会被扩展&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt; &lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;$var1&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;bash&#34;&gt;var1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://vhdsih.github.io/2018/04/16/LinuxShell1/&t=LinuxShell1 - 基础内容"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2016-2022
    vhdsih
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Articles</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/about/">About</a></li><!--
     --><!--
       --><li><a href="/atom.xml">Rss</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
